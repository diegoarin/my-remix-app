{
  "version": 3,
  "sources": ["browser-route-module:/Users/Diego/Projects/Personal/my-remix-app/app/routes/admin/new.tsx?browser", "../../../../app/routes/admin/new.tsx"],
  "sourcesContent": ["export { default } from \"/Users/Diego/Projects/Personal/my-remix-app/app/routes/admin/new.tsx\";", "import { useTransition, useActionData, ActionFunction, redirect, Form } from \"remix\";\nimport { createPost, NewPost } from \"~/post\";\nimport invariant from \"tiny-invariant\";\n\ntype PostError = {\n    title: boolean;\n    slug: boolean;\n    markdown: boolean;\n}\nexport let action: ActionFunction = async ({ request }) => {\n    let formData = await request.formData();\n  \n    let title = formData.get(\"title\") as string;\n    let slug = formData.get(\"slug\") as string;\n    let markdown = formData.get(\"markdown\") as string;\n\n    let errors: Partial<PostError> = {};\n    if (!title) errors.title = true;\n    if (!slug) errors.slug = true;\n    if (!markdown) errors.markdown = true;\n\n    if (Object.keys(errors).length) {\n        return errors;\n    }\n\n    invariant(typeof title === \"string\");\n    invariant(typeof slug === \"string\");\n    invariant(typeof markdown === \"string\");\n\n    await createPost({ title, slug, markdown });\n  \n    return redirect(\"/admin\");\n};\n\nexport default function NewPost() {\n    let errors = useActionData();\n    let transition = useTransition();\n    return (\n        <Form method=\"post\">\n            <p>\n                <label>\n                    Post Title:{\" \"}\n                    {errors?.title && <em>Title is required</em>}\n                    <input type=\"text\" name=\"title\" />\n                </label>\n            </p>\n            <p>\n                <label>\n                    Post Slug:{\" \"}\n                    {errors?.slug && <em>Slug is required</em>}\n                    <input type=\"text\" name=\"slug\" />\n                </label>\n            </p>\n            <p>\n                <label htmlFor=\"markdown\">Markdown</label>{\" \"}\n                {errors?.markdown && <em>Markdown is required</em>}\n                <br />\n                <textarea rows={20} name=\"markdown\" className=\"full-width\" />\n            </p>\n            <p>\n                <button type=\"submit\">\n                    {transition.submission ? \"Creating...\" : \"Create Post\"}\n                </button>\n            </p>\n        </Form>\n    );\n}\n"],
  "mappings": ";;;;;;;;;;;AAAA;;;ACAA;AAkCe,mBAAmB;AAC9B,MAAI,SAAS;AACb,MAAI,aAAa;AACjB,SACI,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACT,oCAAC,KAAD,MACI,oCAAC,SAAD,MAAO,eACS,KACX,kCAAQ,UAAS,oCAAC,MAAD,MAAI,sBACtB,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAGhC,oCAAC,KAAD,MACI,oCAAC,SAAD,MAAO,cACQ,KACV,kCAAQ,SAAQ,oCAAC,MAAD,MAAI,qBACrB,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAGhC,oCAAC,KAAD,MACI,oCAAC,SAAD;AAAA,IAAO,SAAQ;AAAA,KAAW,aAAiB,KAC1C,kCAAQ,aAAY,oCAAC,MAAD,MAAI,yBACzB,oCAAC,MAAD,OACA,oCAAC,YAAD;AAAA,IAAU,MAAM;AAAA,IAAI,MAAK;AAAA,IAAW,WAAU;AAAA,OAElD,oCAAC,KAAD,MACI,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KACR,WAAW,aAAa,gBAAgB;AAAA;",
  "names": []
}
